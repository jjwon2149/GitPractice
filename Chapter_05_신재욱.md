## Chapter 05 -  스위프트 데이터 타입: 상수, 그리고 변수

 **궁금한 점, 어려웠던 점** 
 - 5-0: 현업에서 유지보수를 위해 Objectiv-C 를 사용하는 경우가 종종 있다고 들었습니다. 공부를 시작한 어느 시점에, 어느 정도 깊이로 공부하면 좋을까요?
- 5-9 타입 캐스팅: 어떤 경우에 사용하는지 아직 잘 와닿지 않았습니다.
(`교재 내용:*컴파일러가 어떤 값의 특정 타입을 식별하지 못하는 경우가 발생할 것이다. 이런 경우는 메서드나 함수가 반환하는 값이 불명확하거나 예상되지 않은 타입의 값일 때 종종 발생한다.*`)
---

 **새롭게 알게 된 점**
- 5-8 옵셔널: Swift 5.7 부터 `약식 if-let` 구문 도입
 ```swift
// 약식 if-let 사용 예시
var index: Int?
index = 3
var treeArray = ["Oak", "Pine", "Yew", "Birch"]

if let index {
  print(treeArray[index])
} else {
  print("index does not contain a value")
```
- 5-9 타입 캐스팅 이론 전반
---
**교재의 주요 내용 요약**
- Objective-C를 대체할 iOS 개발 언어로 Swift를 iOS 8와 함께 발표했다.
- 모든 기능, 복잡성, 특징은 애플에서 제공하는 ≪The Swift Programming Language≫에서 확인할 수 있다.
    - https://docs.swift.org/swift-book/documentation/the-swift-programming-language/
    - 한국어판 : https://bbiguduk.gitbook.io/swift
- 데이터 타입
    - 정수형 데이터 타입
        - Int (부호 있음), UInt (부호 없음: 양수 및 0) 
       8비트, 16비트, 32비트, 64비트 정수 지원
        - 특정 크기의 데이터 타입 사용보다는 Int 데이터 타입 사용 권장
       (Int 데이터 타입은 코드 실행 플랫폼에 맞는 정수 크기를 사용함)
    - 부동소수점 데이터 타입: Float (32비트), Double (64비트)
    - 불리언 데이터 타입: `true` / `false`
    - 문자 데이터 타입: 하나의 문자를 저장, 내부적으로 ‘그래핌 클러스터(grapheme cluster)’ 형태로 저장
    - 문자열 데이터 타입
        - 문자들의 집합으로 표시되며, 하나 이상의 유니코드 스칼라 값
        - 문자열 보간법: 문자열에 변수, 상수, 표현식, 함수 호출을 조합하여 구성
        - 여러 줄의 문자열은 삼중 따옴표(`”””`)안에 넣어서 선언
    - 특수 문자/이스케이프 시퀀스
`\n` (개행), `\r` (캐리지 리턴), `\t` : 탭, `\\` : 역슬래시, `\”` : 쌍타옴표, `\’` : 홑따옴표 등등..
- 변수(variable)
    - 변수는 애플리케이션이 사용하는 데이트를 저장하기 위해 예약된 컴퓨터 메모리 내의 위치
    - 각각의 변수는 이름이 주어지고 값이 할당됨. 변수에 할당된 값을 변경할 수 있음.
- 상수(constant)
    - 변수와 동일하나 큰 차이점은 값이 한번 할당되면 나중에 그 값을 바꾸지 못한다는 점
    - 코드 내에서 반복적으로 사용되는 값이 있을 때 유용함
    (코드 내의 여러 곳에서 어떤 상수를 사용하고 있고 그 값을 전체적을 변경해야 할 경우에 상수 선언부에서 한번만 수정하면 모두 적용)
- 상수(let)와 변수(var) 선언
    - 변수를 생성할 때 값으로 초기화할 수 있고, 어떤 변수가 초기값 없이 선언되었다면 옵셔널로 선언된 것으로 간주.
    - 가능하면 변수보다 상수 사용을 권장(코드의 효율성과 실행 성능 향상 목적)
- 타입 애너테이션(type annotation)과 타입 추론(type inference)
    - 스위프트는 데이터 타입이 안전한 언어(데이터 타입에 엄격)
    - 타입 애너테이션(타입 지정), 타입 애너테이션이 없다면 컴퍼일러는 타입 추론 기술을 사용하여 타입을 지정.
`var userCount: Int = 10`
    - 타입 지정 없이 상수를 선언하게 될 경우에는 반드시 선언 시점에서 값을 할당해야 한다.
- 튜플(tuple)
    - 여러 값을 하나의 항목으로 임시적으로 그루핑하는 방법
    - 서로 다른 타입의 값들을 튜플에 저장할 수 있음
    - 튜플이 가진 가장 강력한 기능은 하나의 함수에서 여러 값을 반환할 수 있다는 점
- 옵셔널 타입(optional)
    - 목적: 변수나 상수에 값이 할당되지 않은 상황을 처리하기 위해 안전하고 일관된 접근 방식을 제공하는 것
    - 변수를 선언할 때, 타입 지정 다음에 ‘`?`’ 문자를 두어 옵셔널이 되게 한다.
    - 값이 할당되거나 아무런 값도 할당되지 않을 수 있다.(`nil`)
    - 만약 옵셔널에 값이 할당되었다면 해당 값이 옵셔널 내에서 래핑되었다(wrapped)고 말한다.
    - 강제 언래핑(forced unwrapping): 래핑된 값은 옵셔널 이름 뒤에 느낌표(`!`)를 두어 래핑된 값을 추출
    - 옵셔널 바인딩(optional binding): `if-let` 구문 활용, 옵셔널로 할당된 값은 임시 변수나 상수에 할당
    - 암묵적 언래핑(implicitly unwrapped): 강제 언래핑이나 옵셔널 바인딩을 하지 않아도 값에 접근할 수 있고 옵셔널을 선언할 때 물음표(`?`) 대신에 느낌표(`!`)를 사용하여 암묵적으로 언래핑되도록 함.
- 타입 캐스팅과 타입 검사
    - 타입캐스팅(type casting, 형 변환): `as` 키워드를 사용하여 의도하는 값의 타입을 컴파일러가 알 수 있게 함.
    ```swift
    let myValue = record.object(forKey:: "commit") as! String
    // object(forKey:) 메스드가 반환하는 값을 String 타입으로 처리해야한다고 컴파일러에게 알려주는 코드
    ```
    - 업캐스팅(upcasting): 특정 클래스의 객체가 상위 클래스들 중의 하나로 변형되는 것
    `as` 키워드를 사용하여 수행되며, 변환이 성공할 것이라고 컴파일러가 알려줄 수 있기 때문에 `보장된 변환(guaranteed conversion)`이라고 함.
    - 다운캐스팅(downcasting): 어떤 클래스에서 다른 클래스로 만드는 변환되는 것. 보통 어떤 클래스에서 그 클래스의 하위 클래스로 변환
안전한 수행인지, 유효하지 않은 변환 시도인지 컴파일러가 잡아낼 것이라는 보장을 할 수 없다. → 런타임 에러
`as!` 키워드로 수행되며, `강제 변환(forced conversion)`이라고 함.
안전한 방법을 위해 `as?`를 사용한 `옵셔널 바인딩`을 사용함. (변환이 성공적으로 수행되면 지정한 타입의 옵셔널 값이 반환, 변환에 오류가 발생하면 옵셔널 값은 nil이 됨)
    - 타입 검사(type check): is 키워드를 사용하여 해당 객체가 한 클래스의 인스턴스인지 검사할 수 있다.
